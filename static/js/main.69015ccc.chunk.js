(this["webpackJsonpxrtl-spa"]=this["webpackJsonpxrtl-spa"]||[]).push([[0],{100:function(e,t,n){e.exports={consoleContainer:"Console_consoleContainer__1dDWk",consoleMain:"Console_consoleMain__SxxQK",consoleHandler:"Console_consoleHandler__2f7jk",openConsole:"Console_openConsole__1E2CK",closeConsole:"Console_closeConsole__1Gp8h"}},102:function(e,t,n){e.exports={window:"Window_window__2fRYn",windowHeader:"Window_windowHeader__3GapY",windowFooter:"Window_windowFooter__hmgmH"}},119:function(e,t,n){e.exports={rotaryCtrl:"RotaryCtrl_rotaryCtrl__10MsD",CtrlLeft:"RotaryCtrl_CtrlLeft__18bT3",CtrlRight:"RotaryCtrl_CtrlRight__3ReKs"}},153:function(e,t,n){e.exports={login:"Login_login__1DZpm",close:"Login_close__jc06k",popupWindow:"Login_popupWindow__2XsJg",popupInner:"Login_popupInner__1U9Rq"}},188:function(e,t,n){e.exports={navbar:"NavBar_navbar__1mAK5",navMenu:"NavBar_navMenu__39ykl"}},192:function(e,t,n){e.exports={UpDown:"Settings_UpDown__3LajU",LeftRight:"Settings_LeftRight__2IVau"}},193:function(e,t,n){e.exports={Canvas:"Stream_Canvas__pCA10",Settings:"Stream_Settings__2Zsif"}},196:function(e,t,n){e.exports={webcamDiv:"Webcam_webcamDiv__1zu7H"}},268:function(e,t,n){"use strict";(function(e){var o=n(269),c=n(273),a=n(275),s=n(276),i=n(293),r=n(27),l=n(28),d=n(292),j=n(291),u=n(44),b=n(2);t.a=function(){return e.title="XRTLApp",Object(b.jsx)(l.a,{children:Object(b.jsxs)(r.a,{children:[Object(b.jsx)(i.a,{}),Object(b.jsxs)(u.a,{children:[Object(b.jsx)(d.a,{}),Object(b.jsx)(c.a,{}),Object(b.jsx)(a.a,{}),Object(b.jsx)(j.a,{}),Object(b.jsx)(o.a,{}),Object(b.jsx)(s.a,{})]})]})})}}).call(this,n(34))},269:function(e,t,n){"use strict";var o=n(79),c=n(27),a=n(28),s=n(146),i=n(87),r=n(144),l=n(145),d=n(188),j=n.n(d),u=n(272),b=n(2);t.a=function(){var e=Object(a.b)(),t=Object(c.b)(),n="";t.connected&&(n="white");var d="";e.autoRotate&&(d="white");var m="";e.showTags&&(m="white");var h="";e.showWebcam&&(h="white");var O="";e.showBeam&&(O="white");var p="";return e.showInfoWindow&&(p="white"),Object(b.jsxs)("div",{id:"navbar",className:j.a.navbar,children:[Object(b.jsx)("h1",{children:"XR TwinLab"}),Object(b.jsx)("div",{className:j.a.navMenu,children:Object(b.jsxs)("ul",{children:[Object(b.jsx)(i.a,{title:"Connnection",children:Object(b.jsx)("li",{onClick:function(){t.connected?t.toggleConnection():e.toggleLogin()},children:Object(b.jsx)(r.b,{size:29,color:n})})}),Object(b.jsx)(i.a,{title:"2D model",children:Object(b.jsx)("li",{onClick:e.toggleShowVirtualLayer,children:Object(b.jsx)(l.a,{size:26})})}),Object(b.jsx)(i.a,{title:"Laser beam",children:Object(b.jsx)("li",{onClick:e.toggleShowBeam,children:Object(b.jsx)(s.a,{size:29,color:O})})}),Object(b.jsx)(i.a,{title:"Rotation",children:Object(b.jsx)("li",{onClick:e.toggleAutoRotate,children:Object(b.jsx)(o.d,{size:26,color:d})})}),Object(b.jsx)(i.a,{title:"Labels",children:Object(b.jsx)("li",{onClick:e.toggleShowTags,children:Object(b.jsx)(u.a,{size:25,color:m})})}),Object(b.jsx)(i.a,{title:"Webcam",children:Object(b.jsx)("li",{onClick:e.toggleShowWebcam,children:Object(b.jsx)(l.b,{size:26,color:h})})}),Object(b.jsx)(i.a,{title:"Information",children:Object(b.jsx)("li",{onClick:e.toggleShowInfoWindow,children:Object(b.jsx)(o.a,{size:26,color:p})})})]})})]})}},27:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return b}));var o=n(10),c=n(1),a=n(28),s=n(197),i=n(2),r=new s.a("",{autoConnect:!1}),l=r.socket("/"),d=Object(c.createContext)(),j=n(321);function u(){return Object(c.useContext)(d)}function b(e){var t=e.children,n=Object(c.useState)(!1),u=Object(o.a)(n,2),b=u[0],m=u[1],h=Object(c.useState)(""),O=Object(o.a)(h,2),p=O[0],f=O[1],g=Object(c.useState)(""),x=Object(o.a)(g,2),S=x[0],w=x[1],v=Object(c.useState)("white"),C=Object(o.a)(v,2),y=C[0],k=C[1],_=Object(a.b)();Object(c.useEffect)((function(){l.on("connect",(function(e){m(!0),_.addLog("Server : Client connected to "+S)})),l.on("disconnect",(function(e){m(!1),_.addLog("Server : Client disconnect.")})),l.on("status",(function(e){e.status.busy?_.addBusyComp(e.componentId):_.removeBusyComp(e.componentId)}))}));var I=function(e,t){l.disconnect(),r=new s.a(e,{autoConnect:!1}),l=r.socket("/"),d=Object(c.createContext)(),w(e),f(t)};return Object(i.jsx)(d.Provider,{value:{socket:l,connected:b,toggleConnection:function(e){if(b)m(!1),f(""),I(""),l.close(),_.addLog("Client disconnected by choice.");else{var t={sub:e,component:"client",iat:Date.now(),exp:Date.now()+36e5},n=j.sign(t,"keysecret");l.auth={token:n},l.connect(),m(!0),_.addLog("Client connected by choice.")}},setNewURL:I,setNewFont:function(e){k(e)},username:p,fontColor:y},children:t})}},273:function(e,t,n){"use strict";var o=n(10),c=n(1),a=n(274),s=n(100),i=n.n(s),r=n(28),l=n(2);t.a=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),s=n[0],d=n[1],j=Object(c.useState)(""),u=Object(o.a)(j,2),b=u[0],m=u[1],h=Object(r.b)();return Object(l.jsxs)("div",{className:i.a.consoleContainer+" "+b,children:[Object(l.jsx)("div",{className:i.a.consoleMain,children:h.logs.map((function(e,t){return Object(l.jsxs)("span",{children:[e,Object(l.jsx)("br",{})]},t)}))}),Object(l.jsx)("div",{className:i.a.consoleHandler,children:Object(l.jsx)("span",{children:Object(l.jsx)(a.a,{size:35,onClick:function(){m(s?i.a.closeConsole:i.a.openConsole),d(!s)}})})})]})}},275:function(e,t,n){"use strict";var o=n(24),c=n(10),a=n(1),s=n(86),i=n.n(s),r=n(144),l=n(79),d=n(27),j=n(2);t.a=function(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),s=n[0],u=n[1],b=Object(a.useState)(!1),m=Object(c.a)(b,2),h=m[0],O=m[1],p=Object(a.useState)(""),f=Object(c.a)(p,2),g=f[0],x=f[1],S=Object(a.useState)([]),w=Object(c.a)(S,2),v=w[0],C=w[1],y=Object(d.b)(),k=Object(a.useRef)();k.current=function(){y.socket.on("message",(function(e){C([].concat(Object(o.a)(v),[e]))}))},Object(a.useEffect)((function(){k.current()}),[y,v]);return Object(j.jsxs)("div",{className:i.a.chatContainer+" "+g,children:[Object(j.jsx)("div",{className:i.a.chatMain,children:v.map((function(e,t){return Object(j.jsxs)("b",{children:[Object(j.jsxs)("span",{style:{color:e.color},children:[" ",e.userId,":"]})," ",Object(j.jsx)("span",{children:e.message}),Object(j.jsx)("br",{})]},t)}))}),Object(j.jsxs)("form",{className:i.a.msgForm,onSubmit:function(e){e.preventDefault(),y.socket.emit("message",{userId:y.username,message:s,color:y.fontColor}),u("")},children:[Object(j.jsx)("input",{type:"text",name:"message",placeholder:"Type Message here",value:s,onChange:function(e){u(e.target.value)},required:!0}),Object(j.jsx)("button",{type:"submit",children:Object(j.jsx)(l.e,{size:25})})]}),Object(j.jsx)("div",{className:i.a.chatHandler+" "+g,children:Object(j.jsx)("span",{children:Object(j.jsx)(r.a,{size:35,onClick:function(){x(h?i.a.closeChat:i.a.openChat),O(!h)}})})})]})}},276:function(e,t,n){"use strict";var o=n(23),c=n(10),a=n(198),s=n(472),i=n(300),r=n(199),l=n(299),d=n(473),j=n(467),u=n(471),b=n(277),m=n.n(b),h=n(278),O=n.n(h),p=n(463),f=n(27),g=n(28),x=n(279),S=n.n(x),w=n(1),v=n(153),C=n.n(v),y=n(2);t.a=function(e){var t=["IndianRed","FireBrick","MediumVioletRed","HotPink","Coral","DarkOrange","Yellow","Khaki","Plum","DarkOrchid","ForestGreen","DarkOliveGreen","LightGreen","Teal","Aqua","Blue","LightSkyBlue"],n=Object(w.useState)("white"),b=Object(c.a)(n,2),h=b[0],x=b[1],v=Object(w.useState)(null),k=Object(c.a)(v,2),_=k[0],I=k[1],M=Object(w.useState)(""),L=Object(c.a)(M,2),P=L[0],D=L[1],R=Object(p.a)(),N=Object(f.b)(),T=Object(g.b)(),B=Object(a.a)({palette:{mode:"dark",primary:{light:"#01bd7d",main:"#01bd7d",dark:"#01bd7d",contrastText:"#fff"}},spacing:2}),H=function(){if(""!==P)try{N.setNewURL(String(_.title),String(P)),N.toggleConnection(String(P)),T.setShowLogin(!1)}catch(e){}};return T.showLogin?Object(y.jsxs)(s.a,{theme:B,children:[Object(y.jsx)("div",{className:C.a.popupWindow}),Object(y.jsxs)("div",{className:C.a.popupInner,children:[Object(y.jsx)("h3",{title:"settings",children:"Settings"}),Object(y.jsx)("div",{className:C.a.close,children:Object(y.jsx)(i.a,{onClick:function(e){console.log("click"),T.setShowLogin(!1)},children:Object(y.jsx)(m.a,{fontSize:"large"})})}),Object(y.jsxs)(r.a,{container:!0,columnSpacing:{md:95},children:[Object(y.jsx)(r.a,{item:!0,xs:6,children:Object(y.jsx)(l.a,{autoFocus:!0,variant:"outlined",label:"Username ",value:P,onChange:function(e){D(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&H()},style:{marginLeft:17,width:250},error:""===P,helperText:""===P?"Please enter your username!":" "})}),Object(y.jsx)(r.a,{item:!0,xs:6,children:Object(y.jsx)(i.a,{onClick:function(e){t=t[Math.floor(16*Math.random())],document.getElementById("colorIcon").style.color=t,x(t),N.setNewFont(t)},children:Object(y.jsx)(O.a,{id:"colorIcon",color:h,fontSize:"large"})})})]}),Object(y.jsx)(d.a,{sx:{m:8,width:250},children:Object(y.jsx)(j.a,{value:_,freeSolo:!0,renderInput:function(e){return Object(y.jsx)(l.a,Object(o.a)(Object(o.a)({},e),{},{label:"Choose server address "}))},onChange:function(e,t){"string"===typeof t?I({title:t}):t&&t.inputValue?I({title:t.inputValue}):I(t)},onKeyPress:function(e){"Enter"===e.key&&H()},filterOptions:function(e,t){var n=R(e,t),o=t.inputValue,c=e.some((function(e){return o===e.title}));return""===o||c||n.push({inputValue:o,title:'Add "'.concat(o,'"')}),n},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:[{title:"https://localhost:7000"},{title:"http://192.168.1.42:7000"},{title:"http://10.232.37.40:7000"}],getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.title},renderOption:function(e,t){return Object(y.jsx)("li",Object(o.a)(Object(o.a)({},e),{},{children:t.title}))}})}),Object(y.jsx)(u.a,{size:"small",type:"submit",variant:"contained",onClick:H,endIcon:Object(y.jsx)(S.a,{}),style:{width:90,height:30,marginTop:-3,marginLeft:270},children:"Login"})]})]}):Object(y.jsx)("div",{})}},28:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var o=n(24),c=n(10),a=n(1),s=n.n(a),i=n(2),r=s.a.createContext();function l(){return Object(a.useContext)(r)}function d(e){var t=e.children,n=Object(a.useState)(!0),s=Object(c.a)(n,2),l=s[0],d=s[1],j=Object(a.useState)(!0),u=Object(c.a)(j,2),b=u[0],m=u[1],h=Object(a.useState)(!1),O=Object(c.a)(h,2),p=O[0],f=O[1],g=Object(a.useState)(new Set),x=Object(c.a)(g,2),S=x[0],w=x[1],v=Object(a.useState)(new Set),C=Object(c.a)(v,2),y=C[0],k=C[1],_=Object(a.useState)([]),I=Object(c.a)(_,2),M=I[0],L=I[1],P=Object(a.useState)(!0),D=Object(c.a)(P,2),R=D[0],N=D[1],T=Object(a.useState)(!1),B=Object(c.a)(T,2),H=B[0],U=B[1],W=Object(a.useState)(!1),z=Object(c.a)(W,2),F=z[0],E=z[1],A=Object(a.useState)(!1),V=Object(c.a)(A,2),K=V[0],G=V[1];return Object(i.jsx)(r.Provider,{value:{autoRotate:l,toggleAutoRotate:function(){d(!l)},showVirtualLayer:b,toggleShowVirtualLayer:function(){m(!b)},selectedComps:S,toggleSelectedComp:function(e){S.has(e)?w((function(t){return new Set(Object(o.a)(t).filter((function(t){return t!==e})))})):w((function(t){return new Set(t.add(e))}))},logs:M,addLog:function(e){L((function(t){return[e].concat(Object(o.a)(t))}))},busyComps:y,addBusyComp:function(e){y.has(e)||k((function(t){return new Set(t.add(e))}))},removeBusyComp:function(e){y.has(e)&&k((function(t){return new Set(Object(o.a)(t).filter((function(t){return t!==e})))}))},showTags:R,toggleShowTags:function(){N(!R)},showWebcam:p,toggleShowWebcam:function(){f(!p)},showBeam:K,toggleShowBeam:function(){G(!K)},showLogin:H,setShowLogin:U,showInfoWindow:F,toggleShowInfoWindow:function(){E(!F)},toggleLogin:function(){U(!H)}},children:t})}},284:function(e,t,n){e.exports={popUp:"PopUp_popUp__IolRq"}},290:function(e,t,n){e.exports={mainWrapper:"InfoWindowContent_mainWrapper__345Fv"}},291:function(e,t,n){"use strict";var o=n(24),c=n(10),a=n(27),s=n(1),i=n(28),r=n(196),l=n.n(r),d=n(2),j=n(439),u="",b=function(e){var t=Object(s.useRef)(),n=Object(s.useRef)();return n.current=function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))},Object(s.useEffect)((function(){n.current()}),[]),Object(d.jsx)("video",{playsInline:!0,autoPlay:!0,ref:t})};t.a=function(){var e=Object(a.b)(),t=Object(i.b)(),n=Object(s.useState)([]),r=Object(c.a)(n,2),m=r[0],h=r[1],O=Object(s.useRef)(),p=Object(s.useRef)([]),f=Object(s.useRef)();return f.current=function(){var n={height:window.innerHeight/2,width:window.innerWidth/2};t.showWebcam&&navigator.mediaDevices.getUserMedia({video:n,audio:!0}).then((function(t){O.current.srcObject=t,e.socket.emit("roomID",(function(e){u=e})),e.socket.emit("client join room",u),e.socket.on("all users",(function(n){var o=[];n.forEach((function(n){var c=function(t,n,o){var c=new j({initiator:!0,trickle:!1,stream:o});return c.on("signal",(function(o){e.socket.emit("sending signal",{userToSignal:t,callerID:n,signal:o})})),c}(n,e.socket.id,t);p.current.push({peerID:n,peer:c}),o.push(c)})),h(o)})),e.socket.on("user joined",(function(n){var c=function(t,n,o){var c=new j({initiator:!1,trickle:!1,stream:o});return c.on("signal",(function(t){e.socket.emit("returning signal",{signal:t,callerID:n})})),c.signal(t),c}(n.signal,n.callerID,t);p.current.push({peerID:n.callerID,peer:c}),h((function(e){return[].concat(Object(o.a)(e),[c])}))})),e.socket.on("receiving returned signal",(function(e){p.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)}))}))},Object(s.useEffect)((function(){f.current()}),[t.showWebcam]),t.showWebcam?Object(d.jsxs)("div",{className:l.a.webcamDiv,children:[Object(d.jsx)("video",{className:l.a.videoSt,muted:!0,ref:O,autoPlay:!0,playsInline:!0}),m.map((function(e,t){return Object(d.jsx)(b,{peer:e},t)}))]}):Object(d.jsx)(d.Fragment,{})}},292:function(e,t,n){"use strict";var o=n(10),c=n(1),a=n.n(c),s=n(79),i=n(27),r=n(28),l=n(119),d=n.n(l),j=n(2),u=function(e){var t,n=Object(c.useState)(0),a=Object(o.a)(n,2),l=a[0],u=a[1],b=Object(c.useState)(!1),m=Object(o.a)(b,2),h=m[0],O=m[1],p=Object(c.useState)(0),f=Object(o.a)(p,2),g=f[0],x=f[1],S=Object(c.useState)(!0),w=Object(o.a)(S,2),v=w[0],C=w[1],y=Object(r.b)(),k=Object(i.b)(),_=Object(c.useRef)();_.current=function(){return v||(v=!0,C(!0),k.socket.emit("command",{userId:k.username,componentId:e.component,command:"getStatus"}),k.socket.emit("getFooter",e.component),k.socket.on("getFooter",(function(t){t.componentId===e.component&&(O(t.online),e.newStatus(String(t.status)))})),k.socket.on("status",(function(t){t.componentId===e.component&&("top"===e.control?x(t.status.top.absolute):"bottom"===e.control?x(t.status.bottom.absolute):x(t.status.linear.absolute))})),k.socket.on("footer",(function(t){t.componentId===e.component&&e.newStatus(String(t.status))})),v=!1,C(!1)),function(){v=!1,C(!1)}},Object(c.useEffect)((function(){_.current()}),[k.socket]);var I=function(n){return function(o){o.preventDefault(),t=0,"left"===n?t=-1*Number(l):"right"===n&&(t=Number(l)),0!==t&&(k.socket.emit("command",{userId:k.username,componentId:e.component,command:{controlId:e.control,val:t}}),k.socket.emit("footer",{status:"Last change by: "+k.username,componentId:e.component})),y.addLog("User initiated CW rotation on "+e.component+" / "+e.control+" by "+l+" steps.")}};return Object(j.jsxs)("form",{className:d.a.rotaryCtrl,style:{top:e.top+"px",left:e.left+"px"},children:[Object(j.jsxs)("div",{className:d.a.rotaryCtrl,children:[Object(j.jsx)("span",{children:Number(g)}),Object(j.jsx)("input",{type:"number",min:"0",max:"100",value:l,onChange:function(e){u(e.target.value)}})]}),Object(j.jsx)("button",{onClick:I("left"),className:d.a.CtrlLeft,disabled:!(k.connected&&!y.busyComps.has(e.component)&&h),children:Object(j.jsx)(s.b,{size:28})}),Object(j.jsx)("button",{onClick:I("right"),className:d.a.CtrlRight,disabled:!(k.connected&&!y.busyComps.has(e.component)&&h),children:Object(j.jsx)(s.c,{size:28})})]})},b=n(191),m=n(283),h=n(102),O=n.n(h),p=n(282),f=n.n(p),g=function(e){return Object(j.jsx)(f.a,{handle:".draggableHandler",children:Object(j.jsxs)("div",{className:O.a.window,style:{top:e.top+"px",left:e.left+"px"},children:[Object(j.jsxs)("div",{className:O.a.windowHeader,children:[Object(j.jsx)("span",{className:"draggableHandler",style:{display:"block",width:"calc(100% - 50px)",cursor:"move",float:"left"},children:e.header}),Object(j.jsxs)("span",{onClick:e.onReset,children:[" ",Object(j.jsx)(b.b,{size:20}),"        "]}),Object(j.jsx)("span",{onClick:e.onClose,children:Object(j.jsx)(m.a,{size:20})})]}),Object(j.jsx)("div",{className:O.a.windowContent,style:{height:e.height,width:e.width,background:"url("+e.background+")"},children:e.children}),void 0!==e.footer&&Object(j.jsxs)("div",{className:O.a.windowFooter,children:[Object(j.jsxs)("span",{onClick:e.onInfo,children:[" ",Object(j.jsx)(b.a,{size:25})]}),Object(j.jsx)("label",{children:e.footer})]}),Object(j.jsx)("div",{className:O.a.windowInfo})]})})},x=n.p+"static/media/km100_outline.5cffd463.png",S=n(44),w=function(e){var t=Object(c.useState)(e.footer),n=Object(o.a)(t,2),a=n[0],s=n[1],l=Object(c.useState)(["","",""]),d=Object(o.a)(l,2),b=d[0],m=d[1],h=Object(c.useState)("info"),O=Object(o.a)(h,2),p=O[0],f=O[1],w=Object(c.useState)(!1),v=Object(o.a)(w,2),C=v[0],y=v[1],k=Object(c.useState)(!0),_=Object(o.a)(k,2),I=_[0],M=_[1],L=Object(r.b)(),P=Object(i.b)(),D=Object(S.b)(),R=function(e){if(!I){I=!0,M(!0);var t=new Date;m([t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()]),s(e)}return function(){I=!1,M(!1)}};return Object(j.jsxs)(g,{header:e.title+" ("+e.id+")",footer:a,top:e.top,left:e.left,height:"240px",width:"250px",background:x,onClose:function(){L.toggleSelectedComp(e.id)},onReset:function(){P.socket.emit("command",{userId:P.username,componentId:e.id,command:"reset"})},onInfo:function(){var e,t,n=new Date,o=0;C="",n=[n.getHours(),n.getMinutes(),n.getSeconds(),n.getDay(),n.getMonth()],""===b[0]?C="No last change detected!":n[0]>b[0]?(e=n[0]-b[0],C="Last change is more than "+e+" h ago!"):n[0]===b[0]&&n[1]===b[1]&&n[2]>b[2]?(o=n[2]-b[2],C="Last change is "+o+" s ago!"):n[0]===b[0]&&n[1]>b[1]?(t=n[1]-b[1],C="Last change is more than "+t+" min ago!"):C=n[3]>b[3]||n[4]>b[4]?"Last change is more than 24 h ago!":"No last change detected!",y(C),f("info"),D.toggleShowPopUp(C,p)},children:[Object(j.jsx)(u,{rotation:e.rotationTop,component:e.id,control:"top",newStatus:R,footer:a,top:"20",left:"160"}),Object(j.jsx)(u,{rotation:e.rotationBottom,component:e.id,control:"bottom",newStatus:R,footer:a,top:"50",left:"160"})]})},v=n.p+"static/media/linear_outline.7ac97702.png",C=function(e){var t=Object(c.useState)(e.footer),n=Object(o.a)(t,2),a=n[0],s=n[1],l=Object(c.useState)(["","",""]),d=Object(o.a)(l,2),b=d[0],m=d[1],h=Object(c.useState)("info"),O=Object(o.a)(h,2),p=O[0],f=O[1],x=Object(c.useState)(!1),w=Object(o.a)(x,2),C=w[0],y=w[1],k=Object(c.useState)(!0),_=Object(o.a)(k,2),I=_[0],M=_[1],L=Object(r.b)(),P=Object(i.b)(),D=Object(S.b)(),R=function(e){if(!I){I=!0,M(!0);var t=new Date;m([t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()]),s(e)}return function(){I=!1,M(!1)}};return Object(j.jsx)(g,{header:e.title+" ("+e.id+")",top:e.top,left:e.left,width:"250px",height:"235px",onClose:function(){L.toggleSelectedComp(e.id)},onReset:function(){P.socket.emit("command",{userId:P.username,componentId:e.id,command:"reset"})},onInfo:function(){var e,t,n=new Date,o=0;C="",n=[n.getHours(),n.getMinutes(),n.getSeconds(),n.getDay(),n.getMonth()],""===b[0]?C="No last change detected!":n[0]>b[0]?(e=n[0]-b[0],C="Last change is more than "+e+" h ago!"):n[0]===b[0]&&n[1]===b[1]&&n[2]>b[2]?(o=n[2]-b[2],C="Last change is "+o+" s ago!"):n[0]===b[0]&&n[1]>b[1]?(t=n[1]-b[1],C="Last change is more than "+t+" min ago!"):C=n[3]>b[3]||n[4]>b[4]?"Last change is more than 24 h ago!":"No last change detected!",y(C),f("info"),D.toggleShowPopUp(C,p)},background:v,newStatus:R,footer:a,children:Object(j.jsx)(u,{rotation:e.rotation,component:e.id,newStatus:R,footer:a,control:"linear",top:"35",left:"160"})})},y=n(198),k=n(472),_=n(286),I=n.n(_),M=n(285),L=n.n(M),P=n(300),D=n(473),R=function(e){var t=Object(i.b)(),n=Object(r.b)(),o=function(o,c){return function(a){a.preventDefault(),t.socket.emit("command",{userId:t.username,componentId:e.component,command:{controlId:o,val:c?15:-15}}),t.socket.emit("footer",{status:"Last change by: "+t.username,componentId:e.component}),n.addLog("User changed the position on "+e.component)}};return Object(j.jsxs)(D.a,{children:[Object(j.jsx)(P.a,{onClick:o("virtualPan",!1),disabled:!(t.connected&&!n.busyComps.has(e.component)&&e.online),children:Object(j.jsx)(L.a,{})}),Object(j.jsx)(P.a,{onClick:o("virtualPan",!0),disabled:!(t.connected&&!n.busyComps.has(e.component)&&e.online),children:Object(j.jsx)(I.a,{})})]})},N=n(192),T=n.n(N),B=n(523),H=n(287),U=n.n(H),W=n(288),z=n.n(W),F=function(e){var t=Object(i.b)(),n=Object(r.b)(),o=function(o,c){return function(a){a.preventDefault(),t.socket.emit("command",{userId:t.username,componentId:e.component,command:{controlId:o,val:c?15:-15}}),t.socket.emit("footer",{status:"Last change by: "+t.username,componentId:e.component}),n.addLog("User changed the position on "+e.component)}};return Object(j.jsxs)(B.a,{children:[Object(j.jsx)(P.a,{onClick:o("virtualTilt",!0),disabled:!(t.connected&&!n.busyComps.has(e.component)&&e.online),children:Object(j.jsx)(U.a,{})}),Object(j.jsx)(P.a,{onClick:o("virtualTilt",!1),disabled:!(t.connected&&!n.busyComps.has(e.component)&&e.online),children:Object(j.jsx)(z.a,{})})]})},E=n(5),A=n(537),V=n(527),K=function(e){var t=Object(c.useState)(e.sliderPos),n=Object(o.a)(t,2),a=n[0],s=n[1],l=Object(r.b)(),d=Object(i.b)(),u=Object(c.useRef)(),b=[{value:parseInt(e.min),label:e.min},{value:0,label:"0"},{value:parseInt(e.max),label:e.max}];u.current=function(){d.socket.on("status",(function(t){t.component===e.component&&s(t.status[e.control])}))},Object(c.useEffect)((function(){u.current()}),[d.socket]);return Object(j.jsxs)(D.a,{sx:{width:250,m:2},children:[Object(j.jsx)(A.a,{id:"input-slider",gutterBottom:!0,children:e.title}),Object(j.jsx)(B.a,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",children:Object(j.jsx)(V.a,{"aria-label":"Temperature",id:"brightnessSlider",defaultValue:0,valueLabelDisplay:"auto",step:1,min:e.min,max:e.max,value:a,onChangeCommitted:function(t,n){d.socket.emit("command",{userId:d.username,componentId:e.component,command:Object(E.a)({controlId:e.command},e.option,n)}),d.socket.emit("footer",{status:"Last change by: "+d.username,componentId:e.component}),l.addLog("User set position on "+e.component+" to "+a)},marks:b,disabled:!(d.connected&&!l.busyComps.has(e.component)&&e.online)})})]})},G=n(538),X=n(531),q=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],l=Object(r.b)(),d=Object(i.b)(),u=Object(c.useRef)();u.current=function(){d.socket.on("status",(function(t){t.component===e.component&&s(t.status[e.control])}))},Object(c.useEffect)((function(){u.current()}),[d.socket]);return Object(j.jsx)(D.a,{sx:{width:250,m:2},children:Object(j.jsx)(G.a,{children:Object(j.jsxs)(B.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(j.jsx)(A.a,{children:e.start}),Object(j.jsx)(X.a,{checked:a,onChange:function(t,n){s(n),d.socket.emit("command",{userId:d.username,componentId:e.component,command:Object(E.a)({controlId:e.command},e.option,n)}),d.socket.emit("footer",{status:"Last change by: "+d.username,componentId:e.component}),l.addLog("User set switch on "+e.component+" to "+a);try{e.icon.style.color=!0===a?"grey":"white"}catch(o){}},inputProps:{"aria-label":"controlled"},disabled:!(d.connected&&!l.busyComps.has(e.component)&&e.online)}),Object(j.jsx)(A.a,{children:e.end})]})})})},J=n(535),Q=n(530),Y=n(525),Z=n(528),$=function(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),a=n[0],s=n[1],l=Object(i.b)(),d=Object(r.b)(),u=function(t,n){s(n.props.value),l.socket.emit("command",{userId:l.username,componentId:e.component,command:Object(E.a)({controlId:e.command},e.option,n.props.value)}),l.socket.emit("footer",{status:"Last change by: "+l.username,componentId:e.component}),d.addLog("User set switch on "+e.component+" to "+a)};return"Average time (ms)"===e.title?Object(j.jsxs)(Y.a,{value:a,label:e.title,onChange:u,disabled:!(l.connected&&!d.busyComps.has(e.component)&&e.online),children:[Object(j.jsx)(Z.a,{value:100,children:"100"}),Object(j.jsx)(Z.a,{value:500,children:"500"}),Object(j.jsx)(Z.a,{value:1e3,children:"1000"}),Object(j.jsx)(Z.a,{value:2e3,children:"2000"})]}):"Update time (s)"===e.title?Object(j.jsxs)(Y.a,{value:a,label:e.title,onChange:u,disabled:!(l.connected&&!d.busyComps.has(e.component)&&e.online),children:[Object(j.jsx)(Z.a,{value:1e3,children:"100"}),Object(j.jsx)(Z.a,{value:5e3,children:"500"}),Object(j.jsx)(Z.a,{value:1e4,children:"1000"})]}):Object(j.jsx)("div",{})},ee=function(e){return Object(j.jsx)(D.a,{sx:{m:2,width:250},children:Object(j.jsxs)(J.a,{fullWidth:!0,children:[Object(j.jsx)(Q.a,{children:e.title}),Object(j.jsx)($,{title:e.title,component:e.component,online:e.online,command:e.command,option:e.option})]})})},te=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(!0),l=Object(o.a)(r,2),d=l[0],u=l[1],b=Object(i.b)(),m=Object(c.useRef)(),h=Object(y.a)({palette:{mode:"dark",primary:{light:"#01bd7d",main:"#01bd7d",dark:"#01bd7d",contrastText:"#01bd7d"}}});return m.current=function(){return d||(d=!0,u(!0),b.socket.emit("command",{userId:b.username,componentId:e.component,command:"getStatus"}),b.socket.on("status",(function(t){t.componentId===e.component&&console.log("Status of settings:   ",t)})),b.socket.on("footer",(function(t){t.componentId===e.component&&e.newStatus(String(t.status))})),b.socket.emit("getFooter",e.component),b.socket.on("getFooter",(function(t){t.componentId===e.component&&(s(t.online),e.newStatus(String(t.status)))})),d=!1,u(!1)),function(){d=!1,u(!1)}},Object(c.useEffect)((function(){m.current()}),[b.socket]),Object(j.jsxs)(k.a,{theme:h,children:[Object(j.jsx)("div",{className:T.a.UpDown,children:Object(j.jsx)(F,{component:e.component,online:a})}),Object(j.jsx)("div",{className:T.a.LeftRight,children:Object(j.jsx)(R,{component:e.component,online:a})}),Object(j.jsxs)(D.a,{sx:{m:2,width:250},children:[" ",Object(j.jsx)("h1",{children:"Settings"})," "]}),Object(j.jsx)(ee,{title:"Resolution",component:e.component,online:a,command:"frame size"}),Object(j.jsx)(q,{component:e.component,command:"gray",start:"Color",end:"Grey",online:!0,option:"val"}),Object(j.jsx)(K,{title:"Contrast",component:e.component,command:"contrast",min:-2,max:2,online:a,option:"val"}),Object(j.jsx)(K,{title:"Brightness",component:e.component,command:"brightness",min:-2,max:2,online:a,option:"val"})]})},ne=n(193),oe=n.n(ne),ce=function(e){var t=Object(c.useState)(e.footer),n=Object(o.a)(t,2),a=n[0],s=n[1],l=Object(c.useState)(["","",""]),d=Object(o.a)(l,2),u=d[0],b=d[1],m=Object(c.useState)("info"),h=Object(o.a)(m,2),O=h[0],p=h[1],f=Object(c.useState)(!1),x=Object(o.a)(f,2),w=x[0],v=x[1],C=Object(c.useState)(!0),y=Object(o.a)(C,2),k=y[0],_=y[1],I=Object(i.b)(),M=Object(r.b)(),L=Object(S.b)(),P=Object(c.useRef)(),D=Object(c.useRef)(),R=function(e){if(!k){k=!0,_(!0);var t=new Date;b([t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()]),s(e)}return function(){k=!1,_(!1)}};return P.current=function(){I.socket.on("data",(function(e){for(var t=new Uint8Array(e.data.data),n="",o=0;o<t.length;o++)n+=String.fromCharCode(t[o]);var c=window.btoa(n),a=new Image;a.onload=function(){var e=document.getElementById("ScreenCanvas");if(null!=e){e.getContext("2d").drawImage(this,0,0,300,200)}},a.src="data:image/jpg;base64,"+c}))},D.current=function(){I.socket.emit("join stream room",{id:e.id,userId:I.username})},Object(c.useEffect)((function(){P.current()}),[I.socket]),Object(c.useEffect)((function(){D.current()}),[]),Object(j.jsxs)(g,{header:e.title+" ("+e.id+")",top:e.top,left:e.left,width:"1000px",height:"430px",onClose:function(){M.toggleSelectedComp(e.id),I.socket.emit("leave stream room",{id:e.id,userId:I.username})},onReset:function(){I.socket.emit("command",{userId:I.username,componentId:e.id,command:"reset"})},onInfo:function(){var e,t,n=new Date,o=0;w="",n=[n.getHours(),n.getMinutes(),n.getSeconds(),n.getDay(),n.getMonth()],""===u[0]?w="No last change detected!":n[0]>u[0]?(e=n[0]-u[0],w="Last change is more than "+e+" h ago!"):n[0]===u[0]&&n[1]===u[1]&&n[2]>u[2]?(o=n[2]-u[2],w="Last change is "+o+" s ago!"):n[0]===u[0]&&n[1]>u[1]?(t=n[1]-u[1],w="Last change is more than "+t+" min ago!"):w=n[3]>u[3]||n[4]>u[4]?"Last change is more than 24 h ago!":"No last change detected!",v(w),p("info"),L.toggleShowPopUp(w,O)},footer:a,newStatus:R,children:[Object(j.jsx)("div",{className:oe.a.Canvas,children:Object(j.jsx)("canvas",{id:"ScreenCanvas"})}),Object(j.jsx)("div",{className:oe.a.Settings,children:Object(j.jsx)(te,{component:e.id,footer:a,newStatus:R})})]})},ae=n(289),se=n.n(ae),ie=n(195),re=n.n(ie),le=n(194),de=n.n(le),je=n(471),ue=n(66),be=n.n(ue),me=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(!0),l=Object(o.a)(r,2),d=l[0],u=l[1],b=Object(c.useState)(!0),m=Object(o.a)(b,2),h=m[0],O=m[1],p=Object(c.useState)("-\xb0C"),f=Object(o.a)(p,2),g=f[0],x=f[1],S=Object(i.b)(),w=Object(c.useRef)(),v=Object(y.a)({palette:{mode:"dark",primary:{light:"#01bd7d",main:"#01bd7d",dark:"#01bd7d",contrastText:"#01bd7d"}}}),C=function(){u(!d)};return w.current=function(){return h||(h=!0,O(!0),S.socket.emit("command",{userId:S.username,componentId:e.component,command:"getStatus"}),S.socket.on("status",(function(t){t.componentId===e.component&&console.log("Status of settings:   ",t)})),S.socket.on("footer",(function(t){t.componentId===e.component&&e.newStatus(String(t.status))})),S.socket.emit("getFooter",e.component),S.socket.on("getFooter",(function(t){t.componentId===e.component&&(s(t.online),e.newStatus(String(t.status)))})),S.socket.on("data",(function(t){t.componentId===e.component&&x(t.data.data)})),h=!1,O(!1)),function(){h=!1,O(!1)}},Object(c.useEffect)((function(){w.current()}),[S.socket]),d?Object(j.jsxs)(k.a,{theme:v,children:[Object(j.jsxs)("div",{className:be.a.Temp,children:[Object(j.jsx)(A.a,{variant:"h2",children:g}),Object(j.jsx)(P.a,{onClick:C,children:Object(j.jsx)(de.a,{sx:{fontSize:35}})})]}),Object(j.jsx)("div",{className:be.a.Canvas1,children:Object(j.jsx)("canvas",{id:"Gauge"})}),Object(j.jsx)("div",{className:be.a.Heater,children:Object(j.jsx)(D.a,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",mt:-2},children:Object(j.jsxs)("div",{style:{paddingLeft:10},children:[Object(j.jsx)(je.a,{sx:{fontSize:17},startIcon:Object(j.jsx)(re.a,{}),children:"Heater settings "}),Object(j.jsx)(K,{title:"Power",component:e.component,command:"output",min:0,max:255,online:a,option:"power"})]})})}),Object(j.jsx)("div",{className:be.a.Switch,children:Object(j.jsx)(D.a,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:Object(j.jsx)(q,{component:e.component,command:"output",start:"Off",end:"On",online:a,option:"stream"})})})]}):Object(j.jsxs)(k.a,{theme:v,children:[Object(j.jsxs)("div",{className:be.a.Temp,children:[Object(j.jsx)(A.a,{variant:"h2",children:g}),Object(j.jsx)(P.a,{onClick:C,children:Object(j.jsx)(de.a,{sx:{fontSize:35}})})]}),Object(j.jsx)("div",{className:be.a.Canvas2,children:Object(j.jsx)("canvas",{id:"Heater"})}),Object(j.jsx)("div",{className:be.a.Canvas1,children:Object(j.jsx)("canvas",{id:"Gauge"})}),Object(j.jsx)("div",{className:be.a.Heater,children:Object(j.jsxs)(D.a,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",mt:-2},children:[Object(j.jsxs)("div",{style:{paddingLeft:10},children:[Object(j.jsx)(je.a,{sx:{fontSize:17},startIcon:Object(j.jsx)(re.a,{}),children:"Heater settings "}),Object(j.jsx)(K,{title:"Power",component:e.component,command:"output",min:0,max:255,online:a,option:"power"})]}),Object(j.jsxs)("div",{style:{paddingLeft:20},children:[Object(j.jsx)(je.a,{sx:{fontSize:17},startIcon:Object(j.jsx)(se.a,{}),children:"Gauge settings "}),Object(j.jsx)(ee,{title:"Average time (ms)",component:e.component,online:a,command:"thermistor",option:"averageTime"}),Object(j.jsx)(ee,{title:"Update time (s)",component:e.component,online:a,command:"thermistor",option:"updateTime"})]})]})}),Object(j.jsx)("div",{className:be.a.Switch,children:Object(j.jsxs)(D.a,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:[Object(j.jsx)(q,{component:e.component,command:"output",start:"Off",end:"On",online:a,option:"stream"}),Object(j.jsx)(q,{component:e.component,command:"thermistor",start:"Off",end:"On",online:a,option:"val"})]})})]})},he=function(e){var t=Object(c.useState)(e.footer),n=Object(o.a)(t,2),a=n[0],s=n[1],l=Object(c.useState)(["","",""]),d=Object(o.a)(l,2),u=d[0],b=d[1],m=Object(c.useState)("info"),h=Object(o.a)(m,2),O=h[0],p=h[1],f=Object(c.useState)(!1),x=Object(o.a)(f,2),w=x[0],v=x[1],C=Object(c.useState)(!0),y=Object(o.a)(C,2),k=y[0],_=y[1],I=Object(r.b)(),M=Object(i.b)(),L=Object(S.b)();return Object(j.jsx)(g,{header:e.title+" ("+e.id+")",top:e.top,left:e.left,height:"340px",width:"623px",onClose:function(){I.toggleSelectedComp(e.id)},onReset:function(){M.socket.emit("command",{userId:M.username,componentId:e.id,command:"reset"})},onInfo:function(){var e,t,n=new Date,o=0;w="",n=[n.getHours(),n.getMinutes(),n.getSeconds(),n.getDay(),n.getMonth()],""===u[0]?w="No last change detected!":n[0]>u[0]?(e=n[0]-u[0],w="Last change is more than "+e+" h ago!"):n[0]===u[0]&&n[1]===u[1]&&n[2]>u[2]?(o=n[2]-u[2],w="Last change is "+o+" s ago!"):n[0]===u[0]&&n[1]>u[1]?(t=n[1]-u[1],w="Last change is more than "+t+" min ago!"):w=n[3]>u[3]||n[4]>u[4]?"Last change is more than 24 h ago!":"No last change detected!",v(w),p("info"),L.toggleShowPopUp(w,O)},footer:a,children:Object(j.jsx)(me,{component:e.id,newStatus:function(e){if(!k){k=!0,_(!0);var t=new Date;b([t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()]),s(e)}return function(){k=!1,_(!1)}},footer:a})})},Oe=n(146),pe=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],l=Object(c.useState)(!1),d=Object(o.a)(l,2),u=d[0],b=d[1],m=Object(i.b)(),h=Object(c.useRef)(),O=Object(r.b)(),p=Object(y.a)({palette:{mode:"dark",primary:{light:"#01bd7d",main:"#01bd7d",dark:"#01bd7d",contrastText:"#fff"}}});return h.current=function(){m.socket.emit("command",{userId:m.username,componentId:e.component,command:"getStatus"}),m.socket.on("status",(function(t){t.componentId===e.component&&s(t.status.laser)})),m.socket.on("footer",(function(t){t.componentId===e.component&&e.newStatus(String(t.status))})),m.socket.emit("getFooter",e.component),m.socket.on("getFooter",(function(t){"Michelson_laser"===e.component&&b(t.online),t.componentId===e.component&&e.newStatus(String(t.status))})),O.addLog("User set position on "+e.component+" to "+a)},Object(c.useEffect)((function(){h.current()}),[m.socket]),Object(j.jsx)("div",{className:"switchOnOff",children:Object(j.jsx)(k.a,{theme:p,children:Object(j.jsxs)(D.a,{sx:{m:2,width:250},children:[Object(j.jsx)(q,{component:e.component,command:"switch",start:"Off",end:"On",checked:a,icon:document.getElementById("icon"),online:u}),Object(j.jsx)(Oe.a,{id:"icon",size:100,"vertical-align":"middle",color:"grey"})]})})})},fe=function(e){var t=Object(c.useState)(e.footer),n=Object(o.a)(t,2),a=n[0],s=n[1],l=Object(c.useState)(["","",""]),d=Object(o.a)(l,2),u=d[0],b=d[1],m=Object(c.useState)("info"),h=Object(o.a)(m,2),O=h[0],p=h[1],f=Object(c.useState)(!1),x=Object(o.a)(f,2),w=x[0],v=x[1],C=Object(c.useState)(!0),y=Object(o.a)(C,2),k=y[0],_=y[1],I=Object(r.b)(),M=Object(i.b)(),L=Object(S.b)(),P=function(e){if(!k){k=!0,_(!0);var t=new Date;b([t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()]),s(e)}return function(){k=!1,_(!1)}};return Object(j.jsx)(g,{header:e.title+" ("+e.id+")",top:e.top,left:e.left,height:"200px",width:"300px",onClose:function(){I.toggleSelectedComp(e.id)},onReset:function(){M.socket.emit("command",{userId:M.username,componentId:e.id,command:"reset"})},onInfo:function(){var e,t,n=new Date,o=0;w="",n=[n.getHours(),n.getMinutes(),n.getSeconds(),n.getDay(),n.getMonth()],""===u[0]?w="No last change detected!":n[0]>u[0]?(e=n[0]-u[0],w="Last change is more than "+e+" h ago!"):n[0]===u[0]&&n[1]===u[1]&&n[2]>u[2]?(o=n[2]-u[2],w="Last change is "+o+" s ago!"):n[0]===u[0]&&n[1]>u[1]?(t=n[1]-u[1],w="Last change is more than "+t+" min ago!"):w=n[3]>u[3]||n[4]>u[4]?"Last change is more than 24 h ago!":"No last change detected!",v(w),p("info"),L.toggleShowPopUp(w,O)},newStatus:P,footer:a,children:Object(j.jsx)(pe,{component:e.id,top:"0",left:"0",newStatus:P,footer:a})})},ge=function(e){var t="Initializing...",n="0",o=window.innerHeight,c=window.innerWidth,a=c/2,s=String(o-o/3*2.7),i=String(o-o/1.4),r=String(o-o/2.15),l=String(c-1.9*a),d=String(c-1.8*a),u=String(c-.47*a),b=String(c-.4*a),m=String(c-1.485*a),h=["Michelson_KM100","Michelson_linear","Michelson_laser","Michelson_LaserPower","Michelson_cam","Michelson_heater"];return Object(j.jsxs)("div",{children:[e.selected.has(h[0])&&Object(j.jsx)(w,{title:"Mirror",id:h[0],rotationTop:n,rotationBottom:n,footer:t,top:s,left:l}),e.selected.has(h[1])&&Object(j.jsx)(C,{title:"Mirror Stage",id:h[1],footer:t,rotation:n,top:r,left:d}),e.selected.has(h[2])&&Object(j.jsx)(w,{title:"Laser",id:h[2],rotationTop:n,rotationBottom:n,footer:t,top:r,left:b}),e.selected.has(h[3])&&Object(j.jsx)(fe,{title:"Power Supply",id:h[3],footer:t,top:s,left:u}),e.selected.has(h[4])&&Object(j.jsx)(ce,{title:"Screen",id:h[4],footer:t,top:i,left:m}),e.selected.has(h[3])&&Object(j.jsx)(he,{title:"Heater",id:h[3],footer:t,top:i,left:m})]})},xe=n(290),Se=n.n(xe),we=n.p+"static/media/xrtl_team.519a843e.png",ve=function(e){return Object(j.jsxs)("div",{className:Se.a.mainWrapper,style:{backgroundImage:'url("'+we+'")'},children:["Remote labs are a trendsetting way of teaching, communicating, and experiencing science as well as enabling collaborative work. Unfortunately, the implementation of remote access involves a cost-intensive development or at least requires a certain technical skillset. To establish remote labs across disciplines, especially outside the field of IT and engineering, the technical access threshold must be low enough to support a self-contained implementation by researchers, assistants, and technical staff. Hereby, we are developing the open-source toolbox XR Twin Lab for the research field of Photonics. XR Twin Lab (XRTL) provides a modular way of building a web-based application to control optical experimental setups with the integration of VR and AR endpoints.",Object(j.jsxs)("p",{children:['This Project is currently developed within the DAAD-funded project "digiPhoton" and BMBF-funded project "Lichtwerkstatt" at the Abbe School of Photonics / Institute of Applied Physics / Friedrich Schiller University in Jena. Feel free to follow our ',Object(j.jsx)("a",{href:"https://github.com/Lichtwerkstatt/XRTL_SPA",children:"Git Repo"})," or ",Object(j.jsx)("a",{href:"mailto:team@lichtwerkstatt-jena.de",children:"Contact us."})]}),Object(j.jsx)("p",{children:"Best! Clara, Falko, Jari and Johannes"})]})},Ce=function(e){var t=Object(r.b)();return Object(j.jsx)(g,{header:"About XR TwinLab",top:"250",left:"200",width:"600px",onClose:function(){t.toggleShowInfoWindow()},children:Object(j.jsx)(ve,{})})};t.a=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],s=t[1],l=Object(i.b)(),d=Object(S.b)(),u=Object(r.b)(),b=Object(c.useRef)();return b.current=function(){l.socket.on("Auth",(function(){d.toggleShowPopUp("Connection successful!","success"),s(!0)})),n||(d.toggleShowPopUp("No server connection!","error"),s(""))},Object(c.useEffect)((function(){b.current()}),[l.socket]),Object(j.jsxs)(a.a.Fragment,{children:[u.showInfoWindow&&Object(j.jsx)(Ce,{}),Object(j.jsx)(ge,{toggleSelect:u.toggleSelectedComp,selected:u.selectedComps})]})}},293:function(e,t,n){"use strict";var o=n(23),c=n(1),a=n(529),s=n(522),i=n(521),r=n(2),l=function(e){return Object(r.jsxs)(i.a,{position:e.position,style:{color:"white",width:"200px",height:"30px"},zIndexRange:[0,10],children:[Object(r.jsx)("div",{style:{height:"150px",width:"0px",borderLeft:"2px solid white",float:"left"}}),Object(r.jsxs)("div",{style:{marginLeft:"12px"},children:[Object(r.jsx)("span",{children:Object(r.jsx)("b",{children:e.title})}),Object(r.jsx)("br",{}),e.description,Object(r.jsx)("br",{}),e.status]})]})};function d(e){var t=Object.assign({},e),n=Object(c.useRef)(),i=Object(a.a)("/XRTL_SPA/model/MI_110422.glb"),d=i.nodes,j=i.materials;return Object(r.jsx)("group",Object(o.a)(Object(o.a)({ref:n},t),{},{dispose:null,children:Object(r.jsxs)("group",{name:"Scene",children:[Object(r.jsxs)("group",{name:"Optical elements",children:[Object(r.jsx)(s.a,{position:[-.55,.66,-.1],args:[1,1,1],scale:[.25,.25,.25],children:Object(r.jsx)("meshPhysicalMaterial",{thickness:1,roughness:.1,transmission:1,clearcoat:.5,clearcoatRoughness:0,ior:1.1,envMapIntensity:25,color:"#ffffff",attenuationColor:"#00ffff",attenuationDistance:5})}),Object(r.jsx)(s.b,{position:[.7,.67,-.13],args:[1,1,1],rotation:[0,0,Math.PI/2],scale:[.14,.05,.14],children:Object(r.jsx)("meshPhysicalMaterial",{thickness:1,roughness:.1,transmission:1,clearcoat:.5,clearcoatRoughness:0,ior:1.1,envMapIntensity:25,color:"#ffffff",attenuationColor:"#00ffff",attenuationDistance:5})})]}),Object(r.jsxs)("group",{name:"Mirror1",position:[-.53,.67,.94],onPointerDown:function(e){e.stopPropagation(),t.toggleSelect("Michelson_KM100")},children:[t.showTags&&Object(r.jsx)(l,{position:[0,1.3,0],title:"Reference Mirror",description:"KM100 Double Rotary Control"}),Object(r.jsx)("mesh",{name:"SideMirrorMesh",castShadow:!0,receiveShadow:!0,geometry:d.SideMirrorMesh.geometry,material:j.BlackParts,children:t.selected.has("Michelson_KM100")?Object(r.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(r.jsx)("meshBasicMaterial",{color:"#222222",opacity:1})}),Object(r.jsx)("mesh",{name:"SideMirrorMesh_1",castShadow:!0,receiveShadow:!0,geometry:d.SideMirrorMesh_1.geometry,material:j.ShinyParts}),Object(r.jsx)("mesh",{name:"SideMirrorMesh_2",castShadow:!0,receiveShadow:!0,geometry:d.SideMirrorMesh_2.geometry,material:j.Mirror})]}),Object(r.jsxs)("group",{name:"TranslateMirror",position:[-1.71,.67,-.12],onPointerDown:function(e){e.stopPropagation(),t.toggleSelect("Michelson_linear")},children:[t.showTags&&Object(r.jsx)(l,{position:[0,1.3,0],title:"Transtlate Mirror",description:"Linear Stage"}),Object(r.jsx)("mesh",{name:"TranslateMirrorMesh",castShadow:!0,receiveShadow:!0,geometry:d.TranslateMirrorMesh.geometry,material:j.BlackParts,children:t.selected.has("Michelson_linear")?Object(r.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(r.jsx)("meshBasicMaterial",{color:"#222222",opacity:1})}),Object(r.jsx)("mesh",{name:"TranslateMirrorMesh_1",castShadow:!0,receiveShadow:!0,geometry:d.TranslateMirrorMesh_1.geometry,material:j.ShinyParts}),Object(r.jsx)("mesh",{name:"TranslateMirrorMesh_2",castShadow:!0,receiveShadow:!0,geometry:d.TranslateMirrorMesh_2.geometry,material:j.Mirror})]}),Object(r.jsxs)("group",{name:"Schirm",position:[-.37,.86,-1.22],onPointerDown:function(e){e.stopPropagation(),t.toggleSelect("Michelson_cam")},children:[t.showTags&&Object(r.jsx)(l,{position:[0,1.5,0],title:"Screen",description:"Screen with Interference Pattern"}),Object(r.jsx)("mesh",{name:"PlaneMesh",castShadow:!0,receiveShadow:!0,geometry:d.PlaneMesh.geometry,children:t.selected.has("Michelson_cam")?Object(r.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(r.jsx)("meshBasicMaterial",{color:"#eeeeee",opacity:1})}),Object(r.jsx)("mesh",{name:"PlaneMesh_1",castShadow:!0,receiveShadow:!0,geometry:d.PlaneMesh_1.geometry,material:j.BlackParts})]}),Object(r.jsxs)("group",{name:"Base",children:[t.showTags&&Object(r.jsx)(l,{position:[-.5,2,-.1],title:"Beam Splitter",description:"50/50 Beam Splitter"}),t.showTags&&Object(r.jsx)(l,{position:[.6,2,-.1],title:"Lens",description:"Lens for Beam Widening"}),Object(r.jsx)("mesh",{name:"BaseMesh",castShadow:!0,receiveShadow:!0,geometry:d.BaseMesh.geometry,material:j.BlackParts}),Object(r.jsx)("mesh",{name:"BaseMesh_1",castShadow:!0,receiveShadow:!0,geometry:d.BaseMesh_1.geometry,material:j.ShinyParts})]}),Object(r.jsxs)("group",{name:"Laser",position:[1.56,.67,.14],onPointerDown:function(e){e.stopPropagation(),t.toggleSelect("Michelson_laser")},children:[t.showTags&&Object(r.jsx)(l,{position:[0,1.2,-.2],title:"Laser Alignment",description:"KM100 Double Rotary Control"}),Object(r.jsx)("mesh",{name:"LaserMesh",castShadow:!0,receiveShadow:!0,geometry:d.LaserMesh.geometry,material:j.BlackParts,children:t.selected.has("Michelson_laser")?Object(r.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(r.jsx)("meshBasicMaterial",{color:"#222222",opacity:1})}),Object(r.jsx)("mesh",{name:"LaserMesh_1",castShadow:!0,receiveShadow:!0,geometry:d.LaserMesh_1.geometry,material:j.ShinyParts})]}),Object(r.jsxs)("mesh",{name:"SD5",castShadow:!0,receiveShadow:!0,geometry:d.SD5.geometry,material:j.BlackParts,position:[1.61,.25,-.9],onPointerDown:function(e){e.stopPropagation(),t.toggleSelect("Michelson_LaserPower")},children:[t.showTags&&Object(r.jsx)(l,{position:[0,1.3,0],title:"Power Supply",description:"5V Laser Power Supply"}),t.selected.has("Michelson_LaserPower")?Object(r.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(r.jsx)("meshBasicMaterial",{color:"#222222",opacity:1})]}),t.showBeam&&Object(r.jsx)("mesh",{name:"LaserBeam",castShadow:!0,receiveShadow:!0,geometry:d.LaserBeam.geometry,material:j.Laser,position:[-.3,.66,-.15]})]})}))}a.a.preload("/MI_110422.glb");var j=n(532),u=n(533),b=n(28),m=n(30);t.a=function(){var e=Object(b.b)();return e.showVirtualLayer?Object(r.jsx)(m.a,{style:{position:"absolute",background:"linear-gradient(Teal, Black)",width:"100%",height:"100%"},colorManagement:!0,softShadows:!0,camera:{position:[0,3,5],fov:40},children:Object(r.jsxs)(c.Suspense,{fallback:null,children:[Object(r.jsx)(j.a,{files:"../hdri/autoshop.hdr"}),Object(r.jsx)(u.a,{autoRotate:e.autoRotate}),Object(r.jsx)(d,{toggleSelect:e.toggleSelectedComp,selected:e.selectedComps,showTags:e.showTags,showBeam:e.showBeam})]})}):Object(r.jsx)(r.Fragment,{})}},301:function(e,t,n){"use strict";n.r(t);n(1);var o=n(45),c=n.n(o),a=n(268),s=(n(458),n(2));c.a.render(Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(a.a,{})}),document.getElementById("root"))},323:function(e,t){},325:function(e,t){},339:function(e,t){},341:function(e,t){},369:function(e,t){},371:function(e,t){},372:function(e,t){},377:function(e,t){},379:function(e,t){},398:function(e,t){},410:function(e,t){},413:function(e,t){},44:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return b}));var o=n(10),c=n(27),a=n(1),s=n(469),i=n(468),r=n(284),l=n.n(r),d=n(2),j=Object(a.createContext)();function u(){return Object(a.useContext)(j)}function b(e){var t=e.children,n=Object(a.useState)(!1),r=Object(o.a)(n,2),u=r[0],b=r[1],m=Object(a.useState)(""),h=Object(o.a)(m,2),O=h[0],p=h[1],f=Object(a.useState)("info"),g=Object(o.a)(f,2),x=g[0],S=g[1],w=Object(c.b)();w.socket.on("error",(function(e){b(!0),p(e.errmsg),S("error")}));return Object(d.jsxs)(j.Provider,{value:{showPopUp:u,toggleShowPopUp:function(e,t){console.log("???"),p(e),S(t),b(!u),w.socket.emit("command",{userId:w.username,componentId:"nckdj",command:{controlId:"cdcd",val:"dfcvdfc"}})}},children:[Object(d.jsx)(s.a,{open:u,autoHideDuration:2e3,onClose:function(e,t){"clickaway"!==t&&b(!1)},children:Object(d.jsx)("div",{className:l.a.popUp,children:Object(d.jsx)(i.a,{variant:"filled",severity:x,onClose:function(){b(!1)},children:O})})}),t]})}},458:function(e,t,n){},66:function(e,t,n){e.exports={Temp:"HeaterCtrl_Temp__3d94Q",Heater:"HeaterCtrl_Heater__1OHn9",Switch:"HeaterCtrl_Switch__3H7Qz",Canvas1:"HeaterCtrl_Canvas1__3D1Cd",Canvas2:"HeaterCtrl_Canvas2__i4NzL"}},86:function(e,t,n){e.exports={chatContainer:"Chat_chatContainer__2t9V9",chatMain:"Chat_chatMain__3D4RZ",msgForm:"Chat_msgForm__QwCYM",chatHandler:"Chat_chatHandler__MOOwD",openChat:"Chat_openChat__3mhXq",closeChat:"Chat_closeChat__3grSp",buttonBlink:"Chat_buttonBlink__3hAtq"}}},[[301,1,2]]]);
//# sourceMappingURL=main.69015ccc.chunk.js.map